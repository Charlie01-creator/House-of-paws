<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HOUSE OF PAWS — Rescuing Dogs, Restoring Hope</title>
  <meta name="description" content="House of Paws — rescue, rehabilitate and rehome abandoned dogs. Donate, volunteer, adopt." />
  <meta name="color-scheme" content="dark">
  <!-- Critical inline CSS for fast first paint -->
  <style>
    :root{
      --bg:#07080a;
      --panel:#0e1114;
      --muted:#9aa3a8;
      --accent:#ffb86b; /* warm accent */
      --accent-2:#4ecdc4; /* teal accent */
      --glass: rgba(255,255,255,0.03);
      --card:#0b1113;
      --success:#22c55e;
      --danger:#ff6b6b;
      --max-width:1200px;
      --radius:14px;
      --gap:18px;
      --shadow-lg: 0 14px 40px rgba(2,6,10,0.6);
      --text:#e8f0f2;
    }

    /* Reset & basics */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg,var(--bg), #050506 160%);
      color:var(--text);
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      line-height:1.5;
      -webkit-tap-highlight-color: transparent;
    }
    a{color:var(--accent)}
    img{max-width:100%;display:block;height:auto}
    .container{width:94%;max-width:var(--max-width);margin:0 auto;padding:20px}

    /* Header */
    header {
      position:sticky; top:8px; z-index:120;
      padding:8px 0;
      backdrop-filter: blur(6px);
      margin-bottom:8px;
    }
    .nav-row{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo {
      width:56px;height:56px;border-radius:12px;
      background:linear-gradient(135deg,var(--accent),var(--accent-2));
      display:grid;place-items:center;font-weight:800;color:#071014;
      box-shadow:var(--shadow-lg);
      flex-shrink:0;
    }
    .brand h1{font-size:1.05rem;margin:0;letter-spacing:0.4px}
    nav.desktop{display:flex;gap:10px;align-items:center}
    nav.desktop a{padding:8px 12px;border-radius:10px;color:var(--muted);font-weight:600;text-decoration:none}
    nav.desktop a:hover, nav.desktop a:focus{background:var(--glass);color:var(--text)}

    /* Mobile menu button */
    .menu-btn{display:none;background:transparent;border:0;color:var(--text);padding:8px;border-radius:10px;cursor:pointer}
    .menu-btn:focus{outline:2px solid var(--accent);outline-offset:2px}

    /* Hero */
    .hero{display:grid;grid-template-columns:1fr 420px;gap:28px;align-items:center;padding:22px 0}
    .hero-left h2{font-size:2.1rem;margin:0;color:var(--text)}
    .hero-left p{color:var(--muted);margin-top:10px;max-width:62ch}
    .cta-row{display:flex;gap:12px;flex-wrap:wrap;margin-top:16px}
    .btn{display:inline-grid;place-items:center;padding:10px 16px;border-radius:999px;font-weight:700;border:0;cursor:pointer}
    .btn-primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#071014}
    .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--text)}
    .hero-media{border-radius:16px;overflow:hidden;box-shadow:var(--shadow-lg);border:1px solid rgba(255,255,255,0.03)}
    .hero-media picture, .hero-media img{display:block;width:100%;height:100%}

    /* Stats */
    .stats{display:flex;gap:12px;margin-top:18px;padding:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);border-radius:12px;border:1px solid rgba(255,255,255,0.02)}
    .stat{flex:1;min-width:120px;text-align:center}
    .stat h3{margin:0;font-size:1.6rem}
    .stat p{margin:6px 0 0;color:var(--muted);font-size:0.95rem}

    /* Gallery 3D */
    .gallery-wrap{margin-top:26px;padding:20px 0}
    .gallery-header{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .gallery-stage{height:360px;display:grid;place-items:center;perspective:1200px;position:relative;margin-top:18px}
    .carousel{width:100%;max-width:920px;height:100%;position:relative;transform-style:preserve-3d;animation:spin 30s linear infinite}
    .carousel.paused{animation-play-state:paused}
    .card{position:absolute;width:300px;height:300px;left:50%;top:50%;transform-origin:center center;border-radius:12px;overflow:hidden;border:2px solid rgba(255,255,255,0.03);background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);box-shadow:0 12px 40px rgba(2,6,10,0.6)}
    .card img{width:100%;height:100%;object-fit:cover}
    .card:nth-child(1){transform:translate(-50%,-50%) rotateY(0deg) translateZ(380px)}
    .card:nth-child(2){transform:translate(-50%,-50%) rotateY(60deg) translateZ(380px)}
    .card:nth-child(3){transform:translate(-50%,-50%) rotateY(120deg) translateZ(380px)}
    .card:nth-child(4){transform:translate(-50%,-50%) rotateY(180deg) translateZ(380px)}
    .card:nth-child(5){transform:translate(-50%,-50%) rotateY(240deg) translateZ(380px)}
    .card:nth-child(6){transform:translate(-50%,-50%) rotateY(300deg) translateZ(380px)}
    @keyframes spin{from{transform:rotateY(0)}to{transform:rotateY(360deg)}}
    @media (prefers-reduced-motion: reduce){ .carousel{animation:none} }

    /* Donate (redesigned) */
    .donate-panel{margin-top:26px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));border-radius:14px;padding:18px;border:1px solid rgba(255,255,255,0.03);display:grid;grid-template-columns:1fr 340px;gap:20px;align-items:start}
    .donation-cards{display:flex;gap:12px;flex-wrap:wrap}
    .donation-card{min-width:110px;padding:14px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);border:1px solid rgba(255,255,255,0.03);cursor:pointer;transition:transform .18s ease, box-shadow .18s ease; text-align:center}
    .donation-card:hover{transform:translateY(-6px);box-shadow:0 18px 40px rgba(0,0,0,0.6)}
    .donation-card.selected{box-shadow:0 28px 60px rgba(2,6,10,0.6);border-color:rgba(255,255,255,0.06)}
    .donation-card h4{margin:0;font-size:1.2rem}
    .donation-card p{margin:6px 0 0;color:var(--muted);font-size:0.9rem}

    .donation-controls{display:flex;gap:12px;align-items:center;margin-top:12px}
    .input{padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:inherit;min-width:160px}
    .progress-outer{height:12px;background:rgba(255,255,255,0.03);border-radius:999px;overflow:hidden;margin-top:14px}
    .progress-inner{height:100%;width:0;background:linear-gradient(90deg,var(--accent),var(--accent-2));transition:width 500ms linear}
    .donate-meta{color:var(--muted);display:flex;justify-content:space-between;margin-top:10px;font-size:0.95rem}

    /* Right column: crypto + quick info */
    .aside-box{background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}
    .crypto-grid{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    .crypto-btn{display:flex;gap:10px;align-items:center;padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);cursor:pointer;background:transparent}
    .crypto-btn svg{width:18px;height:18px}
    .crypto-address{margin-top:10px;padding:10px;border-radius:8px;background:rgba(255,255,255,0.02);word-break:break-all}

    /* Stories / Testimonials */
    .stories{margin-top:26px}
    .story-list{display:flex;gap:12px;overflow:auto;padding-bottom:8px}
    .story{min-width:280px;border-radius:12px;overflow:hidden;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));border:1px solid rgba(255,255,255,0.03)}
    .story img{height:160px;object-fit:cover}
    .story .meta{padding:12px}
    .story h3{margin:0;color:var(--text)}
    .story p{color:var(--muted);margin-top:6px}

    /* Footer */
    footer{margin-top:34px;padding:28px 0;color:var(--muted);border-top:1px solid rgba(255,255,255,0.02)}
    .footer-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px;align-items:start}
    .socials{display:flex;gap:10px;margin-top:8px}

    /* Responsive adjustments */
    @media (max-width:1000px){
      .hero{grid-template-columns:1fr;gap:18px}
      .donate-panel{grid-template-columns:1fr;gap:14px}
      .carousel{max-width:680px}
      .card{width:220px;height:220px;transform-origin:center center}
    }
    @media (max-width:680px){
      nav.desktop{display:none}
      .menu-btn{display:inline-block}
      .logo{width:48px;height:48px}
      .carousel{max-width:460px}
      .card{width:160px;height:160px}
      .story{min-width:220px}
    }

    /* small accessible toast */
    .toast{position:fixed;right:18px;bottom:18px;background:#071719;color:#e6fff7;padding:10px 14px;border-radius:10px;box-shadow:var(--shadow-lg);opacity:0;transform:translateY(8px);transition:all 220ms;z-index:160}
    .toast.show{opacity:1;transform:translateY(0)}
  </style>
</head>
<body>
  <header>
    <div class="container nav-row" role="navigation" aria-label="Main navigation">
      <div class="brand">
        <div class="logo" aria-hidden="true">HP</div>
        <div>
          <h1>HOUSE OF PAWS</h1>
          <div style="font-size:0.82rem;color:var(--muted)">Rescuing Dogs, Restoring Hope</div>
        </div>
      </div>

      <nav class="desktop" aria-label="Primary">
        <a href="#home">Home</a>
        <a href="#gallery">Meet Dogs</a>
        <a href="#donate">Donate</a>
        <a href="#stories">Stories</a>
        <a href="#contact">Contact</a>
      </nav>

      <div style="display:flex;gap:10px;align-items:center">
        <a class="btn btn-ghost" href="https://www.paypal.com/donate" target="_blank" rel="noopener">PayPal</a>
        <button class="menu-btn" id="menuBtn" aria-expanded="false" aria-controls="mobileNav" title="Open menu">
          <!-- burger icon -->
          <svg width="22" height="14" viewBox="0 0 22 14" fill="none" aria-hidden="true"><rect y="0" width="22" height="2" rx="1" fill="currentColor"/><rect y="6" width="22" height="2" rx="1" fill="currentColor"/><rect y="12" width="22" height="2" rx="1" fill="currentColor"/></svg>
        </button>
      </div>
    </div>

    <!-- Mobile nav -->
    <div id="mobileNav" style="display:none;background:linear-gradient(180deg, rgba(0,0,0,0.6), rgba(0,0,0,0.8));padding:12px 0;">
      <div class="container" style="display:flex;flex-direction:column;gap:8px">
        <a href="#home">Home</a>
        <a href="#gallery">Meet Dogs</a>
        <a href="#donate">Donate</a>
        <a href="#stories">Stories</a>
        <a href="#contact">Contact</a>
      </div>
    </div>
  </header>

  <main id="home" class="container" tabindex="-1">
    <!-- HERO -->
    <section class="hero" aria-labelledby="heroTitle">
      <div class="hero-left">
        <h2 id="heroTitle">Every paw deserves a second chance</h2>
        <p>Help us rescue, rehabilitate, and rehome abandoned dogs. Your gift funds food, medical care and safe shelter.</p>
        <div class="cta-row">
          <a class="btn btn-primary" href="#donate">Donate Now</a>
          <a class="btn btn-ghost" href="#gallery">Meet Our Dogs</a>
        </div>

        <div class="stats" role="region" aria-label="Quick stats">
          <div class="stat"><h3 id="stat-rescued">87+</h3><p>Dogs rescued</p></div>
          <div class="stat"><h3 id="stat-raised">$1,251</h3><p>Raised this year</p></div>
          <div class="stat"><h3 id="stat-adopted">30+</h3><p>Adoptions</p></div>
        </div>
      </div>

      <div class="hero-media" aria-hidden="false" role="img" aria-label="Smiling rescued dog">
        <picture>
          <source media="(min-width:900px)" srcset="https://images.unsplash.com/photo-1583511655826-05700442b31b?q=60&w=1400&auto=format&fit=crop">
          <source media="(min-width:480px)" srcset="https://images.unsplash.com/photo-1583511655826-05700442b31b?q=60&w=900&auto=format&fit=crop">
          <img loading="lazy" decoding="async" src="https://images.unsplash.com/photo-1583511655826-05700442b31b?q=40&w=800&auto=format&fit=crop" alt="Smiling rescued dog">
        </picture>
      </div>
    </section>

    <!-- GALLERY -->
    <section id="gallery" class="gallery-wrap" aria-labelledby="galleryTitle">
      <div class="gallery-header">
        <h2 id="galleryTitle">Our happy residents</h2>
        <div style="color:var(--muted);font-size:0.95rem">Hover / focus a card to pause the carousel</div>
      </div>

      <div class="gallery-stage" role="region" aria-label="3D dog gallery">
        <div id="carousel" class="carousel" tabindex="0" aria-live="polite">
          <figure class="card"><img data-src="https://images.unsplash.com/photo-1586671267731-da2cf3ceeb80?q=60&w=900&auto=format&fit=crop" alt="Rescued dog 1" loading="lazy"></figure>
          <figure class="card"><img data-src="https://images.unsplash.com/photo-1552053831-71594a27632d?q=60&w=900&auto=format&fit=crop" alt="Rescued dog 2" loading="lazy"></figure>
          <figure class="card"><img data-src="https://images.unsplash.com/photo-1561037404-61cd46aa615b?q=60&w=900&auto=format&fit=crop" alt="Rescued dog 3" loading="lazy"></figure>
          <figure class="card"><img data-src="https://images.unsplash.com/photo-1530281700549-e82e7bf110d6?q=60&w=900&auto=format&fit=crop" alt="Rescued dog 4" loading="lazy"></figure>
          <figure class="card"><img data-src="https://images.unsplash.com/photo-1505628346881-b72b27e84530?q=60&w=900&auto=format&fit=crop" alt="Rescued dog 5" loading="lazy"></figure>
          <figure class="card"><img data-src="https://images.unsplash.com/photo-1544568100-847a948585b9?q=60&w=900&auto=format&fit=crop" alt="Rescued dog 6" loading="lazy"></figure>
        </div>
      </div>
    </section>

    <!-- REDESIGNED DONATION -->
    <section id="donate" class="donate-panel" aria-labelledby="donateTitle">
      <div>
        <h2 id="donateTitle">Your donation makes a difference</h2>
        <p style="color:var(--muted);margin-top:6px">Choose a quick gift, enter a custom amount, or donate with crypto. We persist total raised locally for demo.</p>

        <!-- donation preset cards -->
        <div class="donation-cards" role="radiogroup" aria-label="Donation amounts">
          <button class="donation-card" data-amount="25" role="radio" aria-checked="false"><h4>$25</h4><p>Feeds a dog for a week</p></button>
          <button class="donation-card" data-amount="50" role="radio" aria-checked="false"><h4>$50</h4><p>Basic medical care</p></button>
          <button class="donation-card" data-amount="100" role="radio" aria-checked="false"><h4>$100</h4><p>Support a rescue</p></button>
          <button class="donation-card" data-amount="custom" role="radio" aria-checked="false"><h4>Custom</h4><p>Enter your amount</p></button>
        </div>

        <!-- input + buttons -->
        <div class="donation-controls">
          <input id="donationInput" class="input" type="number" min="5" value="25" aria-label="Donation amount in dollars">
          <button class="btn btn-primary" id="donateBtn">Donate</button>
          <button class="btn btn-ghost" id="cardToggle" aria-expanded="false">Credit</button>
          <button class="btn btn-ghost" id="cryptoQuick">Crypto</button>
        </div>

        <!-- progress -->
        <div class="progress-outer" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="1">
          <div id="progressInner" class="progress-inner" style="width:1%"></div>
        </div>
        <div class="donate-meta">
          <div>Raised: <strong id="raisedDisplay">$1,251</strong></div>
          <div>Goal: <strong>$100,000</strong></div>
        </div>

        <!-- credit card mock form -->
        <form id="cardForm" style="display:none;margin-top:12px" novalidate aria-hidden="true">
          <div style="display:flex;gap:10px;flex-wrap:wrap">
            <input class="input" name="name" placeholder="Full name" required>
            <input class="input" name="email" type="email" placeholder="Email" required>
          </div>
          <div style="display:flex;gap:10px;margin-top:8px;flex-wrap:wrap">
            <input class="input" name="card" placeholder="Card number" inputmode="numeric" autocomplete="cc-number" required style="flex:1">
            <input class="input" name="expiry" placeholder="MM/YY" required style="max-width:110px">
            <input class="input" name="cvc" placeholder="CVC" inputmode="numeric" required style="max-width:100px">
          </div>
          <div style="display:flex;gap:10px;margin-top:10px">
            <button type="submit" class="btn btn-primary">Pay (Demo)</button>
            <button type="button" class="btn btn-ghost" id="cancelCard">Cancel</button>
          </div>
          <div style="color:var(--muted);font-size:0.9rem;margin-top:8px">Note: This demo form does not process payments. Use a secure gateway for real donations.</div>
        </form>
      </div>

      <!-- RIGHT ASIDE -->
      <aside>
        <div class="aside-box">
          <strong>Donate with crypto</strong>
          <div style="color:var(--muted);font-size:0.92rem;margin-top:6px">Select a currency to reveal the address</div>
          <div class="crypto-grid" role="list" aria-label="Cryptocurrencies">
            <button class="crypto-btn" data-coin="bitcoin" role="listitem" aria-label="Bitcoin"> 
              <!-- inline svg bitcoin -->
              <svg viewBox="0 0 32 32" fill="none" aria-hidden="true"><circle cx="16" cy="16" r="16" fill="#f7931a"></circle></svg>
              <span>Bitcoin</span>
            </button>
            <button class="crypto-btn" data-coin="ethereum" role="listitem" aria-label="Ethereum">
              <svg viewBox="0 0 32 32" aria-hidden="true"><path d="M16 2l8 12-8 6-8-6z" fill="#627eea"></path></svg>
              <span>Ethereum</span>
            </button>
            <button class="crypto-btn" data-coin="usdt" role="listitem" aria-label="USDT">
              <svg viewBox="0 0 32 32" aria-hidden="true"><circle cx="16" cy="16" r="16" fill="#26a17b"></circle></svg>
              <span>USDT</span>
            </button>
          </div>

          <div id="cryptoBox" style="display:none;margin-top:12px">
            <div class="crypto-address" id="cryptoAddress" aria-live="polite"></div>
            <div style="display:flex;gap:8px;margin-top:8px">
              <button class="btn btn-ghost" id="copyCrypto">Copy</button>
              <a id="explorer" class="btn btn-ghost" href="#" target="_blank" rel="noopener">View</a>
            </div>
          </div>
        </div>

        <div style="margin-top:12px" class="aside-box">
          <strong>Quick links</strong>
          <div style="display:flex;flex-direction:column;gap:8px;margin-top:8px">
            <a class="btn btn-ghost" href="#gallery">Meet dogs</a>
            <a class="btn btn-ghost" href="#stories">Read stories</a>
            <a class="btn btn-ghost" href="get-involved.html">Volunteer</a>
          </div>
        </div>
      </aside>
    </section>

    <!-- STORIES -->
    <section id="stories" class="stories" aria-labelledby="storiesTitle">
      <h2 id="storiesTitle">Success stories</h2>
      <p style="color:var(--muted)">Real dogs, real families — rescued and rehomed.</p>

      <div class="story-list" aria-live="polite" tabindex="0" style="margin-top:12px">
        <article class="story"><img data-src="https://images.unsplash.com/photo-1586671267731-da2cf3ceeb80?q=60&w=900&auto=format&fit=crop" alt="Jazz the dog" loading="lazy"><div class="meta"><h3>Jazz's Story</h3><p>Found malnourished and scared — Jazz now lives happily in Seattle.</p></div></article>

        <article class="story"><img data-src="https://images.unsplash.com/photo-1561037404-61cd46aa615b?q=60&w=900&auto=format&fit=crop" alt="Luna the dog" loading="lazy"><div class="meta"><h3>Luna's Journey</h3><p>Abandoned and injured, Luna recovered and now plays with three kids.</p></div></article>

        <article class="story"><img data-src="https://images.unsplash.com/photo-1505628346881-b72b27e84530?q=60&w=900&auto=format&fit=crop" alt="Rocki the dog" loading="lazy"><div class="meta"><h3>Rocki's Recovery</h3><p>Severely injured, fully recovered and adopted. Rocki reminds us why we rescue.</p></div></article>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" style="margin-top:26px">
      <h2>Contact</h2>
      <div style="display:flex;gap:18px;flex-wrap:wrap;margin-top:12px">
        <div style="flex:1;min-width:220px;color:var(--muted)">
          <p><strong>Address:</strong> 123 Rescue Berry, Kampala</p>
          <p><strong>Phone:</strong> (+256) 781-915680</p>
          <p><strong>Email:</strong> <a href="mailto:houseofpaw256@gmail.com">houseofpaw256@gmail.com</a></p>
        </div>
        <div style="min-width:200px;display:flex;gap:10px;flex-direction:column">
          <a class="btn btn-ghost" href="#donate">Support us</a>
          <a class="btn btn-ghost" href="get-involved.html">Volunteer</a>
        </div>
      </div>
    </section>

    <!-- FOOTER -->
    <footer aria-label="Footer">
      <div class="container footer-grid" style="padding-top:18px;padding-bottom:18px">
        <div>
          <strong style="color:var(--text)">HOUSE OF PAWS</strong>
          <div style="color:var(--muted);margin-top:8px">Rescuing Dogs, Restoring Hope since 2020</div>
          <div class="socials" aria-label="social links" style="margin-top:8px">
            <a class="btn btn-ghost" href="https://facebook.com/houseofpaws" target="_blank" rel="noopener">Facebook</a>
            <a class="btn btn-ghost" href="https://instagram.com/houseofpaws" target="_blank" rel="noopener">Instagram</a>
            <a class="btn btn-ghost" href="https://twitter.com/houseofpaws" target="_blank" rel="noopener">Twitter</a>
          </div>
        </div>

        <div>
          <strong style="color:var(--text)">Quick Links</strong>
          <div style="margin-top:8px;color:var(--muted);display:flex;flex-direction:column;gap:6px">
            <a href="#about">About Us</a>
            <a href="#mission">Our Mission</a>
            <a href="#get-involved">Get Involved</a>
            <a href="#contact">Contact</a>
            <a href="#donate">Donate</a>
          </div>
        </div>

        <div>
          <strong style="color:var(--text)">Contact Info</strong>
          <div style="margin-top:8px;color:var(--muted)">
            <div>123 Rescue Berry, Kampala</div>
            <div>(+256) 781-915680</div>
            <div><a href="mailto:houseofpaw256@gmail.com">houseofpaw256@gmail.com</a></div>
          </div>
        </div>
      </div>

      <div style="text-align:center;color:var(--muted);padding-bottom:30px">© 2025 HOUSE OF PAWS. All rights reserved.</div>
    </footer>
  </main>

  <!-- Toast -->
  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <!-- Lightweight deferred JS (all one block) -->
  <script defer>
    (function(){
      // Shortcuts
      const $ = s => document.querySelector(s);
      const $$ = s => Array.from(document.querySelectorAll(s));
      const toast = $('#toast');
      function showToast(msg, ms=2200){
        toast.textContent = msg;
        toast.classList.add('show');
        setTimeout(()=> toast.classList.remove('show'), ms);
      }

      // Mobile nav toggle
      const menuBtn = document.getElementById('menuBtn');
      const mobileNav = document.getElementById('mobileNav');
      menuBtn.addEventListener('click', ()=>{
        const expanded = menuBtn.getAttribute('aria-expanded') === 'true';
        menuBtn.setAttribute('aria-expanded', String(!expanded));
        mobileNav.style.display = expanded ? 'none' : 'block';
      });

      // Lazy-load images (data-src)
      const lazy = [].slice.call(document.querySelectorAll('img[data-src]'));
      if('IntersectionObserver' in window){
        const io = new IntersectionObserver((entries)=> {
          entries.forEach(entry => {
            if(entry.isIntersecting){
              const img = entry.target;
              img.src = img.dataset.src;
              img.removeAttribute('data-src');
              io.unobserve(img);
            }
          });
        }, {rootMargin:'200px'});
        lazy.forEach(i=> io.observe(i));
      } else {
        lazy.forEach(i=> i.src = i.dataset.src);
      }

      // CAROUSEL: pause on hover/focus and keyboard toggle
      const carousel = $('#carousel');
      if(carousel){
        const pause = ()=> carousel.classList.add('paused');
        const play = ()=> carousel.classList.remove('paused');
        carousel.addEventListener('mouseenter', pause);
        carousel.addEventListener('mouseleave', play);
        carousel.addEventListener('focusin', pause);
        carousel.addEventListener('focusout', play);
        carousel.addEventListener('keydown', e=>{
          if(e.key === ' ' || e.code === 'Space'){ e.preventDefault(); carousel.classList.toggle('paused'); }
        });
      }

      // DONATIONS: presets + progress
      const presets = $$('.donation-card');
      const donationInput = $('#donationInput');
      const donateBtn = $('#donateBtn');
      const raisedDisplay = $('#raisedDisplay');
      const progressInner = $('#progressInner');
      const GOAL = 100000;
      // load saved raised or default
      let raised = parseFloat(localStorage.getItem('hopaws_raised') || '1251');
      function updateRaisedUI(){
        raisedDisplay.textContent = new Intl.NumberFormat('en-US', {style:'currency',currency:'USD',maximumFractionDigits:0}).format(raised);
        const pct = Math.min(100, (raised/GOAL)*100);
        progressInner.style.width = pct + '%';
        // update stat small
        $('#stat-raised').textContent = raisedDisplay.textContent;
      }
      updateRaisedUI();

      // Preset behavior
      presets.forEach(p => {
        p.addEventListener('click', ()=> {
          presets.forEach(x => { x.classList.remove('selected'); x.setAttribute('aria-checked','false'); });
          p.classList.add('selected'); p.setAttribute('aria-checked','true');
          const amt = p.dataset.amount;
          if(amt === 'custom'){ donationInput.value = ''; donationInput.focus(); }
          else donationInput.value = amt;
        });
        // keyboard support
        p.addEventListener('keydown', e => { if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); p.click(); } });
      });
      // default select first
      if(presets[0]) presets[0].click();

      donateBtn.addEventListener('click', ()=>{
        const v = Math.floor(Number(donationInput.value) || 0);
        if(v < 5){ showToast('Minimum donation is $5'); donationInput.focus(); return; }
        raised += v;
        localStorage.setItem('hopaws_raised', String(raised));
        updateRaisedUI();
        showToast(`Thanks — donation of $${v} received (demo)`);
        donationInput.value = '';
      });

      // Card form toggle & demo submission
      const cardToggle = $('#cardToggle');
      const cardForm = $('#cardForm');
      const cancelCard = $('#cancelCard');
      cardToggle.addEventListener('click', ()=>{
        const shown = cardForm.style.display === 'block';
        cardForm.style.display = shown ? 'none' : 'block';
        cardForm.setAttribute('aria-hidden', String(shown));
        cardToggle.setAttribute('aria-expanded', String(!shown));
        if(!shown){ setTimeout(()=> cardForm.querySelector('input[name="name"]').focus(), 50); }
      });
      cancelCard.addEventListener('click', ()=>{
        cardForm.style.display = 'none';
        cardForm.setAttribute('aria-hidden','true');
        cardToggle.setAttribute('aria-expanded','false');
      });
      cardForm.addEventListener('submit', (e)=>{
        e.preventDefault();
        const name = cardForm.name.value.trim();
        const email = cardForm.email.value.trim();
        if(!name || !email){ showToast('Please enter name and email'); return; }
        showToast('Card payment (demo) — integrate a real payment gateway for live donations.');
        cardForm.reset();
        cancelCard.click();
      });

      // Crypto selection & copy
      const cryptoBtns = $$('.crypto-btn');
      const cryptoBox = $('#cryptoBox');
      const cryptoAddress = $('#cryptoAddress');
      const copyCrypto = $('#copyCrypto');
      const explorer = $('#explorer');
      // demo addresses (replace with yours)
      const ADDR = {
        bitcoin: {addr:'bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh', explorer:'https://blockchair.com/bitcoin/address/bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh'},
        ethereum: {addr:'0x71C7656EC7ab88b098defB751B7401B5f6d8976F', explorer:'https://etherscan.io/address/0x71C7656EC7ab88b098defB751B7401B5f6d8976F'},
        usdt: {addr:'0x72f5d99dbc46e3df74812f0de092fe10b98ca4d1', explorer:'https://etherscan.io/address/0x72f5d99dbc46e3df74812f0de092fe10b98ca4d1'}
      };
      cryptoBtns.forEach(cb => {
        cb.addEventListener('click', ()=> showCrypto(cb.dataset.coin));
      });
      function showCrypto(key){
        const data = ADDR[key];
        if(!data) return;
        cryptoAddress.textContent = data.addr;
        explorer.href = data.explorer;
        cryptoBox.style.display = 'block';
      }
      copyCrypto.addEventListener('click', async ()=>{
        const t = cryptoAddress.textContent.trim();
        if(!t) return;
        try{ await navigator.clipboard.writeText(t); showToast('Address copied'); }
        catch(e){ showToast('Copy failed — select and copy manually'); }
      });

      // Quick crypto button opens first coin
      $('#cryptoQuick').addEventListener('click', ()=> {
        showCrypto('bitcoin');
        document.querySelector('.crypto-btn[data-coin="bitcoin"]').focus();
      });

      // Accessibility: escape closes mobile nav & card form
      document.addEventListener('keydown', (e)=>{
        if(e.key === 'Escape'){
          mobileNav.style.display = 'none';
          menuBtn.setAttribute('aria-expanded','false');
          cardForm.style.display = 'none';
          cardForm.setAttribute('aria-hidden','true');
        }
      });

      // small optimization: defer non-critical actions after load
      window.addEventListener('load', ()=> {
        // warm up images if possible
        const imgs = document.querySelectorAll('img[loading="lazy"]');
        imgs.forEach(img => { if(img.complete === false){ /* browser handles lazy load */ } });
      });

    })();
  </script>
</body>
</html>
